(this["webpackJsonpinstagram-code-clone"]=this["webpackJsonpinstagram-code-clone"]||[]).push([[0],{10:function(e,t,s){e.exports={appHeader:"styles_appHeader__DNOwO",appLogo:"styles_appLogo__3zlWx",logo:"styles_logo__2Pop_",searchBarItens:"styles_searchBarItens__2dZUk",searchBar:"styles_searchBar__23gvv",searchBarIens:"styles_searchBarIens__3ZqId",menu:"styles_menu__1uhf2",menuItem:"styles_menuItem__2oP8L",userAvatar:"styles_userAvatar__gqgIr"}},14:function(e,t,s){e.exports={post:"styles_post__1bCVE",postBody:"styles_postBody__XTxUy",postImg:"styles_postImg__3-uln",interaction:"styles_interaction__1Mus_",likes:"styles_likes__1LKUc",commentsBox:"styles_commentsBox__1q9P7",buttons:"styles_buttons__1tOIe",liked:"styles_liked__2WHKH"}},19:function(e,t,s){e.exports={login:"styles_login__25HE7",authForm:"styles_authForm__2P2Ba",logo:"styles_logo__1kLeO",enterButton:"styles_enterButton__3ZVGD",especial:"styles_especial__KarXX"}},20:function(e,t,s){e.exports={comment:"styles_comment__3cgMk",commentImg:"styles_commentImg__Gc7XQ",button:"styles_button__BgUV2",disable:"styles_disable__1PnSm"}},21:function(e,t,s){e.exports={postForm:"styles_postForm__ReP9D",mensagem:"styles_mensagem__2dZ7E",imgPreview:"styles_imgPreview__Pi1Fz",enterButton:"styles_enterButton__8mNAc"}},22:function(e,t,s){e.exports={App:"styles_App__2txyH","App-logo":"styles_App-logo__3_3j1","App-link":"styles_App-link__19LBe",content:"styles_content__1zSD8",mainContent:"styles_mainContent__3YRNr",sidebar:"styles_sidebar__2Klu0",warnings:"styles_warnings__2Q8gC"}},24:function(e,t,s){e.exports={postHeader:"styles_postHeader__1hrpx",userAvatar:"styles_userAvatar__1DiBw",postInfos:"styles_postInfos__2YumP",postAuthor:"styles_postAuthor__1zaJC",postOptions:"styles_postOptions__qYS3E"}},35:function(e,t,s){e.exports={footer:"styles_footer__fO6XQ",container:"styles_container___6qKr"}},51:function(e,t,s){e.exports={description:"styles_description__3_zVl"}},52:function(e,t,s){e.exports={userAvatar:"styles_userAvatar__21Y9A"}},53:function(e,t,s){e.exports={postList:"styles_postList__2wepY",list:"styles_list__ggst7"}},54:function(e,t,s){e.exports={content:"styles_content__e-qS3"}},63:function(e,t,s){},89:function(e,t,s){},90:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),c=s.n(a),r=s(46),o=s.n(r),i=(s(63),s(3)),l=s(4),j=s(17),d=s(47),u=s(48),x=s(57),b=s(55),p=s(19),h=s.n(p),m=s.p+"static/media/logo.020b353f.png",O=function(e){Object(x.a)(s,e);var t=Object(b.a)(s);function s(){var e;return Object(d.a)(this,s),(e=t.call(this)).state={name:"",email:"",password:""},e}return Object(u.a)(s,[{key:"handleChange",value:function(e,t){var s={};s[e]=t.target.value,this.setState(s)}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:h.a.login,children:Object(n.jsxs)("div",{className:h.a.authForm,children:[Object(n.jsx)("img",{className:h.a.logo,src:m,alt:"logo"}),Object(n.jsxs)("div",{className:h.a.especial,children:[Object(n.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAuCAMAAACiV5+BAAAAkFBMVEUAAAD+xhn+xxn+xxn+xxn+xxn+xxn+xhn+xhn+xxn+xxn+xxn+xxn+xxn+xxn+xxn+xxn+xxn+xxn+xhn+xxr+xhn+xxn+xhn+xxn+xxn+xxr+xxn+xxn+xxn+xxn+xhn9xhn9xxn+xxn+xxn+xhn+xxn+xxn+xhn+xxn+xxn+xxn+xxn9xhn+xxn+xhr+xxlbqxVIAAAAL3RSTlMA/dw47fke9eipixW1QuB+YLtc8AblPNgbBAivzwyZycKgOjIrJnlmTRiTclSCWS0sRj8AAAL4SURBVEjHrZaJkqowEEX7AgGX0RkfAoL7vk///9+9tEGCioXjzC0tpCt9uN0xCZTF81HiiJLRISbR+jiViISG32MdaM/l3kSmmzWJFq1pERy1KJ4pvioY+ZI08YoInG1KtIzk5+XDCOdtPWgwDWCDEc0VW+GsH77TFCshu5EhMCCcE1F2hLkzl5CSS7pERM090UblN5dLY3HFACaKc6rLzMcYlkddBGEYel54Sf4YUPqpVGgkw7yOYBB4olDJE1t9ajclTfLk631QV40+O67rxq2QIRj6VN7ktHDdxa7BDIMJZ9tYD+o0wWwwymnpNKPlnrqsph3Sih0GLhhwtMkk1CvccNC8TNCXumIYyYmsujo+HMsMOlc30K13SevjitG2gpZE/gWCyQTD3PNLGJ2U6GRypdnDHBN832N4aDF9g0ncW4wj2ME8SZLj2GDUV45Bgek9YJz4piiDSdur1SrT108AOQa4ugF6d0XhHgONsRJM4Qb8qhvcY26KqsRkVUXVYerd1Bf1shvgEfOOG/Df9OYWQ+UJtxjcuwFqW2wxv3HDeGemHnqDVzBAjZvKxVBgYDCowaQvFgWOdmma/rY3gBput9tF+hYGMDMFaKBSajp4gqlpcQkj32j9y6IYf4HJlfg/mnDcYVS3OdE6fGe1GLsXgx/+N2FzST9cDFFVb9Rh/Paasm4Yo9VzTN0BgyeLAa9gUFFU/bbFrxT1BJPt9/v+vZuHFY6aFd5uzaazr+yV3mRVGBjM0r4KvHQyoPrUXDjmbauyKLulo9iLq2cqvsFsSatXLmp2/5rE3c5tb7wv3/ePXoEBY7Ly/VW3XFS09P31AaWTIdz4RoOxxkggiqKASxhWOiJci+FGFDUCLq/wIDLqzilhK9PiDcqRRpxjTFScnq8YBvJBNFTlrNaY6BSUMYlvMFaBbv/4zGWFtBtZjHJksQ2aOQfynE2faFnGBFI4rRNVtkzj3SwsBpxIK10ePOCCUaPjXsCz4lEIJy6JdsPQkof/AVixyyPyz7o3AAAAAElFTkSuQmCC"}),Object(n.jsx)("b",{children:"edition"})]}),Object(n.jsx)("input",{placeholder:"Nome",disabled:this.props.loading,onChange:function(t){return e.handleChange("name",t)},value:this.state.name}),Object(n.jsx)("input",{placeholder:"E-mail",disabled:this.props.loading,onChange:function(t){return e.handleChange("email",t)},value:this.state.email}),Object(n.jsx)("input",{type:"password",placeholder:"Senha",disabled:this.props.loading,onChange:function(t){return e.handleChange("password",t)},value:this.state.password}),Object(n.jsx)("button",{className:h.a.enterButton,disabled:this.props.loading,onClick:function(){return e.props.handleLogin(e.state)},children:"Entrar"}),this.props.error&&Object(n.jsx)("p",{children:this.props.error}),Object(n.jsxs)("small",{className:"footer",children:[" Por ",Object(n.jsx)("a",{href:"https://www.linkedin.com/in/beatrizbenedicto/",target:"_blank",rel:"norefferr",children:" Beatriz Benedicto"}),", 2020"]})]})})}}]),s}(c.a.Component),g=s(49),_=s.n(g);console.log("process.env.NODE_ENV","production");var v={baseUrl:"https://treinamento-nodejs-app-masters.herokuapp.com",keyGoogleMaps:"oop123oi1p23oi1p23o",sentryKey:"opi1p23oi1p3oi12po3i1p2o3"};console.log("config",v);var f={baseURL:v.baseUrl};console.log("axiosConfig",f),localStorage.getItem("auth-token")&&(f.headers={Authorization:localStorage.getItem("auth-token")});var y=_.a.create(f),w=s(31),N=s(27),A=s.n(N),k=s(6),C=s(12),S=s(15),B=s(10),I=s.n(B),L=function(){localStorage.clear(),window.location.reload()},F=function(){var e;return Object(n.jsxs)("header",{className:I.a.appHeader,children:[Object(n.jsx)("div",{className:I.a.appLogo,children:Object(n.jsx)("img",{src:m,className:I.a.logo,alt:"logo"})}),Object(n.jsx)("div",{className:I.a.searchBar,children:Object(n.jsxs)("div",{className:I.a.searchBarItens,children:[Object(n.jsx)(k.a,{style:{width:15},icon:C.e}),Object(n.jsx)("input",{type:"text",placeholder:"Pesquisar"}),Object(n.jsx)(k.a,{style:{width:15},icon:S.e})]})}),Object(n.jsxs)("div",{className:I.a.menu,children:[Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)(k.a,{className:I.a.menuItem,icon:C.d})}),Object(n.jsx)(j.b,{to:"/criar",children:Object(n.jsx)(k.a,{className:I.a.menuItem,icon:C.a})}),Object(n.jsx)(k.a,(e={icon:C.f,className:I.a.menuItem},Object(w.a)(e,"className",I.a.menuItem),Object(w.a)(e,"onClick",L),e)),Object(n.jsx)("img",{className:A()(I.a.userAvatar,I.a.menuItem),src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS275fgbLRUvZTthUPudJHdKymk096IE-8LFg&usqp=CAU"})]})]})},E=s(35),P=s.n(E);var U=function(e){var t="100%",s="unset";return e.width&&(t=e.width),e.display&&(s=e.display),Object(n.jsx)("footer",{style:{width:t,display:s},className:P.a.footer,children:Object(n.jsxs)("div",{className:P.a.container,children:[Object(n.jsx)("a",{href:"https://appmasters.io/",target:"_blank",rel:"noreferrer",children:"App Masters"}),Object(n.jsx)("a",{href:"https://codejr.com.br/",target:"_blank",rel:"noreferrer",children:"Code J\xfanior"}),Object(n.jsx)("a",{href:"https://www.linkedin.com/in/beatrizbenedicto/",target:"_blank",rel:"noreferrer",children:"Beatriz Benedicto"})]})})},D=s(56),Y=s(13),q=s.n(Y),z=s(18),V=s(20),G=s.n(V),H=function(e){var t=Object(a.useState)(""),s=Object(i.a)(t,2),c=s[0],r=s[1],o=Object(a.useState)(!1),l=Object(i.a)(o,2),j=(l[0],l[1]),d=Object(a.useState)(""),u=Object(i.a)(d,2),x=(u[0],u[1]),b=function(){var t=Object(z.a)(q.a.mark((function t(){var s,n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),s={text:c,post_id:e.post_id},t.next=5,y.post("/comments",s);case 5:(n=t.sent)&&(console.log(n.data),e.addNewComment(n.data),r("")),j(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),j(!1),x(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:G.a.comment,children:[Object(n.jsx)("img",{className:G.a.commentImg,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS275fgbLRUvZTthUPudJHdKymk096IE-8LFg&usqp=CAU"}),Object(n.jsx)("textarea",{className:G.a.textarea,placeholder:"Comentar",value:c,onChange:function(e){return r(e.target.value)}}),c?Object(n.jsx)("button",{onClick:b,children:"Enviar"}):Object(n.jsx)("button",{disabled:!0,className:A()(G.a.button,G.a.disable),children:"Enviar"})]})},M=s(51),R=s.n(M),J=function(e){return Object(n.jsx)("div",{className:R.a.description,children:Object(n.jsxs)("p",{children:[" ",Object(n.jsx)("b",{children:e.userName})," ",e.postDescription]})})},T=s(24),W=s.n(T),K=s(52),X=s.n(K),Q=function(e){return e.border?Object(n.jsx)("div",{className:X.a.userAvatar,children:Object(n.jsx)("img",{src:e.userAvatar,style:{width:e.width},alt:"avatar"})}):Object(n.jsx)("img",{src:e.userAvatar,style:{width:e.width},alt:"avatar"})},Z=s(28),$=s.n(Z);s(88);$.a.locale("pt");var ee=function(e){return Object(n.jsxs)("div",{className:W.a.postHeader,children:[Object(n.jsxs)("div",{className:W.a.postInfos,children:[Object(n.jsx)(Q,{userAvatar:e.userAvatar,border:!0,width:"40px"}),Object(n.jsxs)("div",{className:W.a.postAuthor,children:[Object(n.jsxs)("b",{children:[e.userName," - ",e.postTitle]}),Object(n.jsx)("small",{className:"postDate",children:$()(e.createdAt).format("LLL")})]})]}),Object(n.jsx)("div",{className:W.a.postOptions,children:Object(n.jsx)(k.a,{icon:C.b})})]})},te=s(14),se=s.n(te),ne=void 0,ae=function(e){var t=e.post;console.log("post infos",t);var s=Object(a.useState)(t.comments),c=Object(i.a)(s,2),r=c[0],o=c[1],l=r.length,j=Object(a.useState)(2),d=Object(i.a)(j,2),u=d[0],x=d[1],b=Object(a.useState)(t.like),p=Object(i.a)(b,2),h=p[0],m=p[1],O=Object(a.useState)(!1),g=Object(i.a)(O,2),_=(g[0],g[1]),v=Object(a.useState)(!1),f=Object(i.a)(v,2),w=f[0],N=f[1],A=Object(a.useState)(!1),B=Object(i.a)(A,2),I=(B[0],B[1]),L=function(){var e=Object(z.a)(q.a.mark((function e(t){var s,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=h,e.prev=1,_(!0),m(s+1),N(!0),e.next=7,y.patch("/posts/".concat(t,"/like"));case 7:n=e.sent,_(!1),m(n.data.like),e.next=19;break;case 12:e.prev=12,e.t0=e.catch(1),_(!1),m(s),N(!1),I(e.t0),ne.setState({loading:!1,error:e.t0,likeCount:s});case 19:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:se.a.post,children:Object(n.jsxs)("div",{className:se.a.postBody,children:[Object(n.jsx)(ee,{userName:t.user.name,createdAt:t.created_at,postTitle:t.title,userAvatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS275fgbLRUvZTthUPudJHdKymk096IE-8LFg&usqp=CAU"}),Object(n.jsx)("div",{className:se.a.postImg,children:Object(n.jsx)("img",{src:t.imageUrl,alt:"imagem do post ".concat(t.id)})}),Object(n.jsx)(J,{userName:t.user.name,postDescription:t.description}),Object(n.jsxs)("div",{className:se.a.interaction,children:[Object(n.jsxs)("div",{className:se.a.buttons,children:[w?Object(n.jsx)(k.a,{className:se.a.liked,icon:C.c}):Object(n.jsx)(k.a,{onClick:function(){return L(t.id)},icon:S.c}),Object(n.jsx)(k.a,{icon:S.b}),Object(n.jsx)(k.a,{icon:S.d})]}),Object(n.jsx)(k.a,{icon:S.a})]}),Object(n.jsx)("div",{className:se.a.likes,children:Object(n.jsxs)("p",{children:[h," likes"]})}),Object(n.jsxs)("div",{className:se.a.commentsBox,children:[r.length>2?Object(n.jsxs)("p",{onClick:function(){return x(l)},children:["Ver todos ",l," coment\xe1rios"]}):r.lenght?Object(n.jsx)("p",{children:"Seja o primeiro a comentar"}):"",r.slice(0,u).map((function(e){return Object(n.jsx)("p",{children:e.text},e.id)}))]}),u<r.length&&Object(n.jsx)("button",{onClick:function(){return x(u+3)},children:"Mostrar mais"}),Object(n.jsx)(H,{post_id:t.id,addNewComment:function(e){var t=Object(D.a)(r);t.push(e),o(t)}})]})})},ce=s(53),re=s.n(ce),oe=function(e){return Object(n.jsx)("div",{className:re.a.list,children:e.posts.map((function(e){return Object(n.jsx)(ae,{post:e},e.id)}))})},ie=s(21),le=s.n(ie),je=function(e){var t=Object(l.f)(),s=Object(a.useState)(""),c=Object(i.a)(s,2),r=c[0],o=c[1],j=Object(a.useState)(""),d=Object(i.a)(j,2),u=d[0],x=d[1],b=Object(a.useState)(""),p=Object(i.a)(b,2),h=p[0],m=p[1],O=Object(a.useState)(),g=Object(i.a)(O,2),_=g[0],v=g[1],f=Object(a.useState)(!1),w=Object(i.a)(f,2),N=w[0],A=w[1],k=function(){var s=Object(z.a)(q.a.mark((function s(){var n;return q.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n={title:r,description:u,imageUrl:h},s.prev=1,A(!0),s.next=5,y.post("/posts",n);case 5:s.sent.data.id&&(e.redirect?t.push("/"):window.location.reload()),s.next=14;break;case 9:s.prev=9,s.t0=s.catch(1),console.error(s.t0),v(s.t0),A(!1);case 14:case"end":return s.stop()}}),s,null,[[1,9]])})));return function(){return s.apply(this,arguments)}}();return Object(n.jsx)("div",{className:le.a.addPost,children:Object(n.jsxs)("div",{className:le.a.postForm,style:e.home?{maxWidth:"100%"}:e.width?{width:e.width}:{width:"90vw"},children:[Object(n.jsx)("h1",{style:{textAlign:"center"},children:"Criar novo post"}),Object(n.jsx)("input",{placeholder:"T\xedtulo",value:r,disabled:N,onChange:function(e){return o(e.target.value)}}),Object(n.jsx)("textarea",{className:le.a.mensagem,placeholder:"Mensagem",value:u,disabled:N,onChange:function(e){return x(e.target.value)}}),Object(n.jsx)("input",{placeholder:"Url da Imagem",value:h,disabled:N,onChange:function(e){return m(e.target.value)}}),h&&h.length>5&&Object(n.jsx)("img",{className:le.a.imgPreview,src:h}),_&&Object(n.jsx)("p",{children:_}),Object(n.jsx)("button",{className:le.a.enterButton,disabled:N,onClick:k,children:"Postar"})]})})},de=s(22),ue=s.n(de);var xe=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)(),o=Object(i.a)(r,2),l=o[0],j=o[1],d=Object(a.useState)([]),u=Object(i.a)(d,2),x=u[0],b=u[1],p=Object(a.useState)(window.innerWidth),h=Object(i.a)(p,2),m=h[0],O=h[1];return window.addEventListener("resize",(function(e){O(window.innerWidth),console.log(window.innerWidth)})),Object(a.useEffect)((function(){c(!0),y.get("/posts").then((function(e){b(e.data),c(!1)})).catch((function(e){c(!1),j(e.response.data)}))}),[]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(F,{}),Object(n.jsxs)("div",{className:ue.a.content,children:[Object(n.jsx)("div",{className:ue.a.mainContent,children:s?Object(n.jsx)("div",{className:ue.a.warnings,children:Object(n.jsx)("b",{children:"Carregando posts..."})}):l?Object(n.jsx)("div",{className:ue.a.warnings,children:Object(n.jsx)("b",{children:"N\xe3o foi poss\xedvel acessar os posts, sua sess\xe3o provavelmente expirou, fa\xe7a login novamente."})}):Object(n.jsx)(oe,{posts:x})}),Object(n.jsxs)("div",{className:ue.a.sidebar,children:[Object(n.jsx)(je,{home:!0,style:{display:"block"}}),Object(n.jsx)(U,{width:"30%",display:m>1024?"unset":"none"})]}),Object(n.jsx)(U,{display:m>1024?"none":"unset"})]})]})},be=s(54),pe=s.n(be),he=function(){var e=Object(a.useState)(window.innerWidth),t=Object(i.a)(e,2),s=t[0],c=t[1];return window.addEventListener("resize",(function(e){c(window.innerWidth),console.log(window.innerWidth)})),Object(n.jsxs)("div",{children:[Object(n.jsx)(F,{}),Object(n.jsx)("div",{className:pe.a.content,children:Object(n.jsx)(je,{redirect:!0,width:s>=768?500:null})}),Object(n.jsx)(U,{})]})},me=c.a.createContext({}),Oe=function(){return Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/criar",children:Object(n.jsx)(he,{})}),Object(n.jsx)(l.a,{path:"/",children:Object(n.jsx)(xe,{})})]})},ge=function(){var e=Object(a.useContext)(me),t=Object(a.useState)(!1),s=Object(i.a)(t,2),c=s[0],r=s[1],o=Object(a.useState)(),j=Object(i.a)(o,2),d=j[0],u=j[1];return Object(n.jsx)(l.c,{children:Object(n.jsx)(l.a,{path:"/",children:Object(n.jsx)(O,{loading:c,error:d,handleLogin:function(t){console.log(t),t&&t.password&&(r(!0),y.post("/users/login",t).then((function(t){!function(e){var t="Bearer ".concat(e);localStorage.setItem("auth-token",t),y.defaults.headers.common.Authorization=t}(t.data.token),e.isLogged.set(t.data.token),r(!1)})).catch((function(t){e.isLogged.set(!1),r(!1),u(t.response.data.error)})))}})})})},_e=function(){var e=Object(a.useContext)(me);return Object(n.jsx)(j.a,{children:e.isLogged.get?Object(n.jsx)(Oe,{}):Object(n.jsx)(ge,{})})},ve=function(){var e=localStorage.getItem("auth-token"),t=Object(a.useState)(e),s=Object(i.a)(t,2),c={isLogged:{get:s[0],set:s[1]}};return Object(n.jsx)(me.Provider,{value:c,children:Object(n.jsx)(_e,{})})};s(89);var fe=function(){return Object(n.jsx)(ve,{})},ye=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,91)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(fe,{})}),document.getElementById("root")),ye()}},[[90,1,2]]]);
//# sourceMappingURL=main.a043b513.chunk.js.map